<UserControl x:Class="SchoolMedicalWpf.App.Parent.ParentProfilePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="Transparent">
    <Grid>
        <StackPanel x:Name="ViewPanel" Visibility="Visible"
                    HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border Margin="32" Padding="64" CornerRadius="24"
                    Background="White" 
                    BorderBrush="#2D9CDB" BorderThickness="2"
                    Effect="{DynamicResource CardShadow}"
                    Width="720" MaxWidth="900">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="Auto">
                    <!-- Avatar -->
                    <Border Width="140" Height="140" CornerRadius="70"
                            BorderBrush="#2D9CDB" BorderThickness="2"
                            HorizontalAlignment="Center" VerticalAlignment="Center"
                            Margin="0,0,0,24">
                        <Image Source="pack://application:,,,/Assets/avatar.png"
                               Width="130" Height="130" Stretch="UniformToFill"
                               ClipToBounds="True"/>
                    </Border>
                    <!-- Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,28">
                        <Button x:Name="UpdateInformationButton" Content="Sửa thông tin" Width="160" Height="44" Margin="0,0,16,0"
                                Style="{StaticResource PrimaryButton}" Click="UpdateInformationButton_Click" />
                        <Button Content="Đổi mật khẩu" Width="160" Height="44"
                                Style="{StaticResource SecondaryButtonStyle}" Click="Button_Click"/>
                    </StackPanel>
                    <!-- Info -->
                    <Grid HorizontalAlignment="Center" Margin="0,0,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="180"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Họ tên:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="Nguyễn Văn A" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Ngày sinh:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="01/01/1980" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Địa chỉ:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="123 Đường ABC, Quận 1, TP.HCM" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Số điện thoại:" FontWeight="Bold" FontSize="20"/>
                        <TextBlock Grid.Row="3" Grid.Column="1" Text="0901234567" FontSize="20"/>
                    </Grid>
                </StackPanel>
            </Border>
        </StackPanel>

        <Border x:Name="EditPanel" Visibility="Collapsed"
        Background="White" CornerRadius="16"
        BorderBrush="#2D9CDB" BorderThickness="1"
        Padding="40" Width="700" MaxWidth="900"
        HorizontalAlignment="Center" VerticalAlignment="Center">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <!-- Bên trái: upload ảnh -->
                    <StackPanel Grid.Column="0" VerticalAlignment="Top" HorizontalAlignment="Center">
                        <TextBlock Text="Ảnh đại diện" FontSize="16" FontWeight="Bold" Margin="0,0,0,18" Foreground="{StaticResource PrimaryBlueBrush}"/>
                        <Border Width="110" Height="110" CornerRadius="55"
                        BorderBrush="{StaticResource PrimaryBlueBrush}" BorderThickness="2" Background="#FAFAFA" HorizontalAlignment="Center">
                            <Image x:Name="EditAvatar"
                           Width="106" Height="106" Stretch="UniformToFill"
                           ClipToBounds="True"/>
                        </Border>
                        <Button Content="Chọn ảnh..." Margin="0,18,0,0"
                        Width="130"
                        Style="{StaticResource SecondaryButtonStyle}"/>
                    </StackPanel>
                    <!-- Spacer -->
                    <Grid Grid.Column="1"/>
                    <!-- Bên phải: form điền thông tin -->
                    <StackPanel Grid.Column="2" VerticalAlignment="Top">
                        <TextBlock Text="Cập nhật thông tin" FontSize="22" FontWeight="Bold" Margin="0,0,0,20" Foreground="{StaticResource PrimaryBlueBrush}"/>

                        <TextBlock Text="Họ tên" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditName" Style="{StaticResource InputBox}"/>

                        <TextBlock Text="Ngày sinh" Style="{StaticResource LabelText}"/>
                        <DatePicker x:Name="EditBirthDate" Style="{StaticResource DatePickerStyle}"/>

                        <TextBlock Text="Địa chỉ" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditAddress" Style="{StaticResource InputBox}"/>

                        <TextBlock Text="Số điện thoại" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditPhoneNumber" Style="{StaticResource InputBox}"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,28,0,0">
                            <Button Content="Lưu" Width="110" Margin="0,0,18,0"
                            Style="{StaticResource PrimaryButton}"/>
                            <Button Content="Huỷ" Width="110" Style="{StaticResource SecondaryButtonStyle}"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Border>

        <Border x:Name="ChangePasswordPanel" Visibility="Collapsed"
                Background="White" CornerRadius="16"
                BorderBrush="#2D9CDB" BorderThickness="1"
                Padding="40" Width="600" MaxWidth="800"
                HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel>
                <TextBlock Text="Đổi mật khẩu" FontSize="24" FontWeight="Bold" Margin="0,0,0,28" Foreground="{StaticResource PrimaryBlueBrush}"/>
                <!-- Form -->
                <TextBlock Text="Số điện thoại" Style="{StaticResource LabelText}"/>
                <TextBox x:Name="PhoneNumberChangePassword" Style="{StaticResource InputBox}"/>

                <TextBlock Text="Mật khẩu cũ" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="OldPassword" Style="{StaticResource PasswordInputBox}"/>

                <TextBlock Text="Mật khẩu mới" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="NewPassword" Style="{StaticResource PasswordInputBox}"/>

                <TextBlock Text="Xác nhận mật khẩu mới" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="ConfirmedPassword" Style="{StaticResource PasswordInputBox}"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,28,0,0">
                    <Button Content="Lưu" Width="110" Margin="0,0,18,0"
                            Style="{StaticResource PrimaryButton}"/>
                    <Button Content="Huỷ" Width="110" Style="{StaticResource SecondaryButtonStyle}"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>