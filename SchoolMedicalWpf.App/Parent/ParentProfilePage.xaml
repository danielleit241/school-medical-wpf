<UserControl x:Class="SchoolMedicalWpf.App.Parent.ParentProfilePage"
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   Background="Transparent">
    <Grid>
        <StackPanel x:Name="ViewPanel" Visibility="Visible"
                   HorizontalAlignment="Center" VerticalAlignment="Center">
            <Border Margin="32" Padding="64" CornerRadius="24"
                   Background="White" 
                   BorderBrush="#2D9CDB" BorderThickness="2"
                   Effect="{DynamicResource CardShadow}"
                   Width="720" MaxWidth="900">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="Auto">
                    <!-- Avatar -->
                    <Ellipse Width="140" Height="140" Stroke="#2D9CDB" StrokeThickness="2" Margin="0,0,0,24" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Ellipse.Fill>
                            <ImageBrush x:Name="AvatarUrl" ImageSource="pack://application:,,,/Assets/avatar.png" Stretch="UniformToFill"/>
                        </Ellipse.Fill>
                    </Ellipse>
                    <!-- Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,28">
                        <Button x:Name="UpdateInformationButton" Content="Sửa thông tin" Width="160" Height="44" Margin="0,0,16,0"
                               Style="{StaticResource PrimaryButton}" Click="UpdateInformationButton_Click" />
                        <Button x:Name="ChangePasswordButton" Content="Đổi mật khẩu" Width="160" Height="44"
                               Style="{StaticResource SecondaryButtonStyle}" Click="ChangePasswordButton_Click"/>
                    </StackPanel>
                    <Grid HorizontalAlignment="Center" Margin="0,0,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="180"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Họ tên:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock x:Name="FullNameTextBlock" Grid.Row="0" Grid.Column="1" Text="" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Ngày sinh:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock x:Name="DoBTextBlock" Grid.Row="1" Grid.Column="1" Text="" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Địa chỉ:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock x:Name="AddressTextBlock" Grid.Row="2" Grid.Column="1" Text="" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Số điện thoại:" FontWeight="Bold" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock x:Name="PhoneNumberTextBlock" Grid.Row="3" Grid.Column="1" Text="" FontSize="20" Margin="0,0,0,16"/>
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Email:" FontWeight="Bold" FontSize="20"/>
                        <TextBlock x:Name="EmailTextBlock" Grid.Row="4" Grid.Column="1" Text="" FontSize="20"/>
                    </Grid>
                </StackPanel>
            </Border>
        </StackPanel>

        <Border x:Name="EditPanel" Visibility="Collapsed"
       Background="White" CornerRadius="16"
       BorderBrush="#2D9CDB" BorderThickness="1"
       Padding="40" Width="700" MaxWidth="900"
       HorizontalAlignment="Center" VerticalAlignment="Center">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <!-- Bên trái: upload ảnh -->
                    <StackPanel Grid.Column="0" VerticalAlignment="Top" HorizontalAlignment="Center">
                        <TextBlock Text="Ảnh đại diện" FontSize="16" FontWeight="Bold" Margin="0,0,0,18" Foreground="{StaticResource PrimaryBlueBrush}"/>
                        <Ellipse Width="110" Height="110" Stroke="{StaticResource PrimaryBlueBrush}" StrokeThickness="2">
                            <Ellipse.Fill>
                                <ImageBrush x:Name="EditAvatar" ImageSource="pack://application:,,,/Assets/avatar.png" Stretch="UniformToFill"/>
                            </Ellipse.Fill>
                        </Ellipse>
                        <Button x:Name="ChangeAvatarButton" Content="Chọn ảnh..." Margin="0,18,0,0"
                       Width="130"
                       Style="{StaticResource SecondaryButtonStyle}" Click="ChangeAvatarButton_Click"/>
                    </StackPanel>
                    <!-- Spacer -->
                    <Grid Grid.Column="1"/>
                    <!-- Bên phải: form điền thông tin -->
                    <StackPanel Grid.Column="2" VerticalAlignment="Top">
                        <TextBlock Text="Cập nhật thông tin" FontSize="22" FontWeight="Bold" Margin="0,0,0,20" Foreground="{StaticResource PrimaryBlueBrush}"/>

                        <TextBlock Text="Họ tên" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditName" Style="{StaticResource InputBox}"/>

                        <TextBlock Text="Ngày sinh" Style="{StaticResource LabelText}"/>
                        <DatePicker x:Name="EditBirthDate" Style="{StaticResource DatePickerStyle}"/>

                        <TextBlock Text="Địa chỉ" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditAddress" Style="{StaticResource InputBox}"/>

                        <TextBlock Text="Email" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditEmail" Style="{StaticResource InputBox}"/>

                        <TextBlock Text="Số điện thoại" Style="{StaticResource LabelText}"/>
                        <TextBox x:Name="EditPhoneNumber" Style="{StaticResource InputBox}"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,28,0,0">
                            <Button x:Name="SaveInformationButton" Content="Lưu" Width="110" Margin="0,0,18,0"
                           Style="{StaticResource PrimaryButton}" Click="SaveInformationButton_Click"/>
                            <Button x:Name="CancelButton" Content="Huỷ" Width="110" Style="{StaticResource SecondaryButtonStyle}" Click="CancelButton_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Border>

        <Border x:Name="ChangePasswordPanel" Visibility="Collapsed"
               Background="White" CornerRadius="16"
               BorderBrush="#2D9CDB" BorderThickness="1"
               Padding="40" Width="600" MaxWidth="800"
               HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel>
                <TextBlock Text="Đổi mật khẩu" FontSize="24" FontWeight="Bold" Margin="0,0,0,28" Foreground="{StaticResource PrimaryBlueBrush}"/>
                <!-- Form -->
                <TextBlock Text="Số điện thoại" Style="{StaticResource LabelText}"/>
                <TextBox x:Name="PhoneNumberChangePassword" Style="{StaticResource InputBox}"/>

                <TextBlock Text="Mật khẩu cũ" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="OldPassword" Style="{StaticResource PasswordInputBox}"/>

                <TextBlock Text="Mật khẩu mới" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="NewPassword" Style="{StaticResource PasswordInputBox}"/>

                <TextBlock Text="Xác nhận mật khẩu mới" Style="{StaticResource LabelText}"/>
                <PasswordBox x:Name="ConfirmedPassword" Style="{StaticResource PasswordInputBox}"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,28,0,0">
                    <Button x:Name="SaveChangePasswordButton" Content="Lưu" Width="110" Margin="0,0,18,0"
                           Style="{StaticResource PrimaryButton}" Click="SaveChangePasswordButton_Click"/>
                    <Button x:Name="CancelChangePasswordButton" Content="Huỷ" Width="110" Style="{StaticResource SecondaryButtonStyle}" Click="CancelChangePasswordButton_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>